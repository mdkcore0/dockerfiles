#!/usr/bin/env bash

CMD=$1

if [ x$CMD = x ]
then
    echo "FAIL"
    exit
    # should run default action (activate?)
fi

if [ $CMD = run ]
then
    echo "RUN"

    docker run \
        -di \
        -e UID=$UID \
        -u docker \
        -v $HOME/.docker_shared/docker:/home/docker \
        -v $HOME/.gitconfig:/home/docker/.gitconfig \
        -v $HOME/.ssh:/home/docker/.ssh \
        -h slack-docker \
        --name slack_docker \
        slack
elif [ $CMD = activate ]
then
    # we should run if not running yet
    echo "ACTIVATE"

    docker exec -ti slack_docker script /dev/null -c 'zsh'
elif [ $CMD = stop ]
then
    # we should run if not running yet
    echo "STOP"

    docker stop slack_docker
else
    echo "fuen"
fi
